*SELECT 2
*USE IPNHISTO
*INDEX ON CEDULA+STR(YEAR(FECHA))+STR(MONTH(FECHA))+STR(DAY(FECHA)) TO IPNHIST2
*CLOSE DATA
*CLOSE INDEX

SELECT 1
USE IPNPERSO INDEX IPNPERSO
SELECT 2
USE IPNHISTO INDEX IPNHIST2
SELECT 3
USE IPNOMINA INDEX IPNOMINA
SELECT 4
USE IPNFACTO INDEX IPNFACTO
SAVE SCRE TO WSCRE99
store .t. to viendo
do while viendo
   RESTORE SCRE FROM WSCRE99
   STORE 0 TO WTOTGENB
   STORE 0 TO WTOTGENNB
   STORE 0 TO WTOTGENL
   STORE 0 TO WTOTGEND
   store space(10) to wcedula
   @ 04,0 clear to 21,79
   @ 04,0 SAY "HISTORICO INDIVIDUAL ORDINARIO"
   @ 06,0 say "CEDULA:"
   @ 08,0 say "DESDE :"
   @ 10,0 say "HASTA :"
   @ 12,0 say "SALIDA:"
   @ 06,07 GET WCEDULA
   READ
   IF WCEDULA = SPACE(10)
      CLOSE DATA
      CLOSE INDEX
      RETURN
   ENDIF
   SELECT 1
   FIND &WCEDULA
   IF EOF()
      STORE "CEDULA NO REGISTRADA EN MAESTRO DE PERSONAL, REINTENTE." TO MES
      DO AVISO WITH MES
      LOOP
   ENDIF
   STORE NOMBRE TO WNOMBRE
   STORE APELLIDO TO WAPELLIDO

   @ 06,20 SAY RTRIM(WAPELLIDO)+" "+RTRIM(WNOMBRE)
   STORE CTOD("  -  -    ") TO WF1
   STORE CTOD("  -  -    ") TO WF2
   @ 8,7 GET WF1
   READ
   IF WF1 = CTOD("  -  -    ")
      LOOP
   ENDIF
   @ 10,7 GET WF2
   READ
   IF WF2 = CTOD("  -  -    ")
      LOOP
   ENDIF
   IF WF2<WF1
      STORE "FECHA FINAL MENOR QUE LA INICIAL" TO MES
      DO AVISO WITH MES
      LOOP
   ENDIF
   STORE "OPCIONES: (M)ONITOR, (I)MPRESORA, (S)ALIR" TO MES
   STORE "M" TO P1
   STORE "I" TO P2
   STORE "S" TO P3
   STORE " " TO RESP
   DO PIDE3 WITH P1,P2,P3,MES,RESP
   STORE RESP TO WSALIDA
   IF WSALIDA="S"
      LOOP
   ENDIF
   IF WSALIDA = "I"
      SET DEVI TO PRINT
      STORE 30 TO WSALTO
      @ PROW(),1 SAY chr(27)+chr(67)+chr(33)
   ELSE
      SET DEVI TO SCRE
      STORE 22 TO WSALTO
   ENDIF
   STORE 0 TO WPAGINA
   SELECT 2
   SET EXACT OFF
   FIND &WCEDULA
   SET EXACT ON
   IF EOF()
      STORE "CEDULA SIN HISTORICOS DE PAGO" TO MES
      DO AVISO WITH MES
      LOOP
   ENDIF
*   POR EL PROMBLEMA DE ORDEN EN EL INDICE DE FECHA, ESTA RUTINA NO SERA UTILIZADA
*   DO WHILE .NOT. EOF()
*      IF FECHA >= WF1
*         EXIT
*      ENDIF
*      SKIP
*   ENDDO

   DO WHILE .NOT. EOF() .AND. CEDULA = WCEDULA
      IF FECHA<WF1 .OR. FECHA>WF2
         SELECT 2
         SKIP
         LOOP
      ENDIF

      STORE 8 TO WHRD
      STORE 8 TO WHRM
      STORE 8 TO WHRN
      SELECT 3
      SEEK IPNHISTO.NOMINA
      IF FOUND()
         SELECT 4
         SEEK IPNOMINA.FACTCOD
         IF FOUND()
            STORE F_HORASD TO WHRD
            STORE F_HORASM TO WHRM
            STORE F_HORASN TO WHRN
         ENDIF
      ENDIF
      SELECT 2
      store 0 to wtotbon
      store 0 to wtotnbon
      store 0 to wtotdec
      store 0 to wtotliq
      STORE 100 TO WLINE
      IF BSORDD > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO ORDINARIO DIURNO"
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRORDD/WHRD),6,2)
         @ WLINE,53 SAY  STR(BSORDD,12,2)
         STORE WTOTBON+BSORDD TO WTOTBON
      ENDIF
      IF BSORDM > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO ORDINARIO MIXTO "
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRORDM/WHRM),6,2)
         @ WLINE,53 SAY  STR(BSORDM,12,2)
         STORE WTOTBON+BSORDM TO WTOTBON
      ENDIF
      IF BSORDN > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO ORDINARIO NOCTURNO"
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRORDN/WHRN),6,2)
         @ WLINE,53 SAY  STR(BSORDN,12,2)
         STORE WTOTBON+BSORDN TO WTOTBON
      ENDIF
      IF BSSTDA > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO DIURNO DE 3 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTDA,6,2)
         @ WLINE,53 SAY  STR(BSSTDA,12,2)
         STORE WTOTBON+BSSTDA TO WTOTBON
      ENDIF
      IF BSSTDB > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO DIURNO DE +3 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTDB,6,2)
         @ WLINE,53 SAY  STR(BSSTDB,12,2)
         STORE WTOTBON+BSSTDB TO WTOTBON
      ENDIF
      IF BSSTMA > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO MIXTO DE  3 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTMA,6,2)
         @ WLINE,53 SAY  STR(BSSTMA,12,2)
         STORE WTOTBON+BSSTMA TO WTOTBON
      ENDIF
      IF BSSTMB > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO MIXTO DE  +3 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTMB,6,2)
         @ WLINE,53 SAY  STR(BSSTMB,12,2)
         STORE WTOTBON+BSSTMB TO WTOTBON
      ENDIF
      IF BSSTNA > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO NOCTURNO DE  3 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTNA,6,2)
         @ WLINE,53 SAY  STR(BSSTNA,12,2)
         STORE WTOTBON+BSSTNA TO WTOTBON
      ENDIF
      IF BSSTNB > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO NOCTURNO DE +3 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTNB,6,2)
         @ WLINE,53 SAY  STR(BSSTNB,12,2)
         STORE WTOTBON+BSSTNB TO WTOTBON
      ENDIF
      IF BSSTGM > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO DE GUARDIA MIXTA"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTGM,6,2)
         @ WLINE,53 SAY  STR(BSSTGM,12,2)
         STORE WTOTBON+BSSTGM TO WTOTBON
      ENDIF
      IF BSSTGN > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "SOBRETIEMPO DE GUARDIA NOCTURNA"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRSTGN,6,2)
         @ WLINE,53 SAY  STR(BSSTGN,12,2)
         STORE WTOTBON+BSSTGN TO WTOTBON
      ENDIF
      IF BSTVDA > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO DE VIAJE DIURNO DE 1.5 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRTVDA,6,2)
         @ WLINE,53 SAY  STR(BSTVDA,12,2)
         STORE WTOTBON+BSTVDA TO WTOTBON
      ENDIF
      IF BSTVDB > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO DE VIAJE DIURNO DE +1.5 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRTVDB,6,2)
         @ WLINE,53 SAY  STR(BSTVDB,12,2)
         STORE WTOTBON+BSTVDB TO WTOTBON
      ENDIF
      IF BSTVMA > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO DE VIAJE MIXTO  DE  1.5 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRTVMA,6,2)
         @ WLINE,53 SAY  STR(BSTVMA,12,2)
         STORE WTOTBON+BSTVMA TO WTOTBON
      ENDIF
      IF BSTVMB > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO DE VIAJE MIXTO  DE +1.5 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRTVMB,6,2)
         @ WLINE,53 SAY  STR(BSTVMB,12,2)
         STORE WTOTBON+BSTVMB TO WTOTBON
      ENDIF
      IF BSTVNA > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO DE VIAJE NOCTURNO DE 1.5 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRTVNA,6,2)
         @ WLINE,53 SAY  STR(BSTVNA,12,2)
         STORE WTOTBON+BSTVNA TO WTOTBON
      ENDIF
      IF BSTVNB > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "TIEMPO DE VIAJE NOCTURNO DE +1.5 HRS."
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRTVNB,6,2)
         @ WLINE,53 SAY  STR(BSTVNB,12,2)
         STORE WTOTBON+BSTVNB TO WTOTBON
      ENDIF
      IF BSDESNOR > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "DESCANSO NORMAL"
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRDESNOR/WHRD),6,2)
         @ WLINE,53 SAY  STR(BSDESNOR,12,2)
         STORE WTOTBON+BSDESNOR TO WTOTBON
      ENDIF
      IF BSDESCON > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "DESCANSO CONTRACTUAL TRABAJADO"
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRDESCON/WHRD),6,2)
         @ WLINE,53 SAY  STR(BSDESCON,12,2)
         STORE WTOTBON+BSDESCON TO WTOTBON
      ENDIF
      IF BSDESLEG > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "DESCANSO LEGAL TRABAJADO"
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRDESLEG/WHRD),6,2)
         @ WLINE,53 SAY  STR(BSDESLEG,12,2)
         STORE WTOTBON+BSDESLEG TO WTOTBON
      ENDIF
      IF BSDESCOM > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "DESCANSO COMPENSATORIO"
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRDESCOM/WHRD),6,2)
         @ WLINE,53 SAY  STR(BSDESCOM,12,2)
         STORE WTOTBON+BSDESCOM TO WTOTBON
      ENDIF
      IF BSAYUCIU > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "AYUDA DE CIUDAD"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRAYUCIU,6,2)
         @ WLINE,53 SAY  STR(BSAYUCIU,12,2)
         STORE WTOTBON+BSAYUCIU TO WTOTBON
      ENDIF
      IF BSCOMIDA > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "COMIDAS"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRCOMIDA,6,2)
         @ WLINE,53 SAY  STR(BSCOMIDA,12,2)
         STORE WTOTBON+BSCOMIDA TO WTOTBON
      ENDIF
      IF BSREPCOM > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "REPOSO Y COMIDA"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRREPCOM,6,2)
         @ WLINE,53 SAY  STR(BSREPCOM,12,2)
         STORE WTOTBON+BSREPCOM TO WTOTBON
      ENDIF
      IF BSFERIADO > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "FERIADOS"
         @ WLINE,40 SAY "Dias"
         @ WLINE,45 SAY  STR((HRFERIADO/WHRD),6,2)
         @ WLINE,53 SAY  STR(BSFERIADO,12,2)
         STORE WTOTBON+BSFERIADO TO WTOTBON
      ENDIF
      IF BSBN > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "BONO NOCTURNO"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRBN,6,2)
         @ WLINE,53 SAY  STR(BSBN,12,2)
         STORE WTOTBON+BSBN TO WTOTBON
      ENDIF
      IF BSBNG > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "BONO NOCTURNO DE GUARDIA"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRBNG,6,2)
         @ WLINE,53 SAY  STR(BSBNG,12,2)
         STORE WTOTBON+BSBNG TO WTOTBON
      ENDIF
      IF BSBNV > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "BONO NOCTURNO DE VIAJE"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRBNV,6,2)
         @ WLINE,53 SAY  STR(BSBNV,12,2)
         STORE WTOTBON+BSBNV TO WTOTBON
      ENDIF
      IF BSBD  > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "BONO DOMINICAL"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRBD,6,2)
         @ WLINE,53 SAY  STR(BSBD,12,2)
         STORE WTOTBON+BSBD TO WTOTBON
      ENDIF
      IF BSFERPRI > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "PRIMA POR FERIADO TRABAJADO"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRFERPRI,6,2)
         @ WLINE,53 SAY  STR(BSFERPRI,12,2)
         STORE WTOTBON+BSFERPRI TO WTOTBON
      ENDIF
      IF BSBONOCOM > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY "BONO COMPENSATORIO"
         @ WLINE,40 SAY "HRS."
         @ WLINE,45 SAY  STR(HRBONOCOM,6,2)
         @ WLINE,53 SAY  STR(BSBONOCOM,12,2)
         STORE WTOTBON+BSBONOCOM TO WTOTBON
      ENDIF
      IF BSOCB1 > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY DESOCB1
         @ WLINE,40 SAY "    "
         @ WLINE,45 SAY  STR(HROCB1,6,2)
         @ WLINE,53 SAY  STR(BSOCB1,12,2)
         STORE WTOTBON+BSOCB1 TO WTOTBON
      ENDIF
      IF BSOCB2 > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY DESOCB2
         @ WLINE,40 SAY "    "
         @ WLINE,45 SAY  STR(HROCB2,6,2)
         @ WLINE,53 SAY  STR(BSOCB2,12,2)
         STORE WTOTBON+BSOCB2 TO WTOTBON
      ENDIF
      IF BSOCB3 > 0
         DO FORMA2
         @ WLINE,0 SAY "BO"
         @ WLINE,4 SAY DESOCB3
         @ WLINE,40 SAY "    "
         @ WLINE,45 SAY  STR(HROCB3,6,2)
         @ WLINE,53 SAY  STR(BSOCB3,12,2)
         STORE WTOTBON+BSOCB3 TO WTOTBON
      ENDIF
      IF BSBONOTRAN > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY "BONO DE TRANSPORTE"
         @ WLINE,53 SAY  STR(BSBONOTRAN,12,2)
         STORE WTOTNBON+BSBONOTRAN TO WTOTNBON
      ENDIF
      IF BSBONOALIM > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY "BONO ALIMENTICIO"
         @ WLINE,53 SAY  STR(BSBONOALIM,12,2)
         STORE WTOTNBON+BSBONOALIM TO WTOTNBON
      ENDIF
      IF BSCESTA > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY "CESTA BASICA"
         @ WLINE,53 SAY  STR(BSCESTA,12,2)
         STORE WTOTNBON+BSCESTA TO WTOTNBON
      ENDIF
      IF BSVIVE  > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY "VIVIENDA"
         @ WLINE,53 SAY  STR(BSVIVE,12,2)
         STORE WTOTNBON+BSVIVE TO WTOTNBON
      ENDIF
      IF BSUTILIDAD > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY "UTILIDADES"
         @ WLINE,53 SAY  STR(BSUTILIDAD,12,2)
         STORE WTOTNBON+BSUTILIDAD TO WTOTNBON
      ENDIF
      IF BSINDEMNIZ > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY "INDEMNIZACIONES"
         @ WLINE,53 SAY  STR(BSINDEMNIZ,12,2)
         STORE WTOTNBON+BSINDEMNIZ TO WTOTNBON
      ENDIF
      IF BSOCNB1 > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY DESOCNB1
         @ WLINE,53 SAY  STR(BSOCNB1,12,2)
         STORE WTOTNBON+BSOCNB1 TO WTOTNBON
      ENDIF
      IF BSOCNB2 > 0
         DO FORMA2
         @ WLINE,0 SAY "NB"
         @ WLINE,4 SAY DESOCNB2
         @ WLINE,53 SAY  STR(BSOCNB2,12,2)
         STORE WTOTNBON+BSOCNB2 TO WTOTNBON
      ENDIF
      IF BSISLR  > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY "IMPUESTO SOBRE LA RENTA"
         @ WLINE,67 SAY  STR(BSISLR,12,2)
         STORE WTOTDEC+BSISLR TO WTOTDEC
      ENDIF
      IF BSSSO   > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY "SEGURO SOCIAL OBLIGATORIO"
         @ WLINE,67 SAY  STR(BSSSO,12,2)
         STORE WTOTDEC+BSSSO TO WTOTDEC
      ENDIF
      IF BSSPF   > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY "SEGURO DE PARO FORZOSO"
         @ WLINE,67 SAY  STR(BSSPF,12,2)
         STORE WTOTDEC+BSSPF TO WTOTDEC
      ENDIF
      IF BSAHRHAB > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY "AHORRO HABITACIONAL"
         @ WLINE,67 SAY  STR(BSAHRHAB,12,2)
         STORE WTOTDEC+BSAHRHAB TO WTOTDEC
      ENDIF
      IF BSSINDIC > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY "SINDICATOS"
         @ WLINE,67 SAY  STR(BSSINDIC,12,2)
         STORE WTOTDEC+BSSINDIC TO WTOTDEC
      ENDIF
      IF BSCAJA   > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY "CAJA DE AHORROS"
         @ WLINE,67 SAY  STR(BSCAJA,12,2)
         STORE WTOTDEC+BSCAJA TO WTOTDEC
      ENDIF
      IF BSPRESPER > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY "PRESTAMOS / ADELANTOS"
         @ WLINE,67 SAY  STR(BSPRESPER,12,2)
         STORE WTOTDEC+BSPRESPER TO WTOTDEC
      ENDIF
      IF BSOD1 > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY DESOD1
         @ WLINE,67 SAY  STR(BSOD1,12,2)
         STORE WTOTDEC+BSOD1 TO WTOTDEC
      ENDIF
      IF BSOD2 > 0
         DO FORMA2
         @ WLINE,0 SAY "DE"
         @ WLINE,4 SAY DESOD2
         @ WLINE,67 SAY  STR(BSOD2,12,2)
         STORE WTOTDEC+BSOD2 TO WTOTDEC
      ENDIF
      IF MINIMO > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "INDEMNIZACION MINIMA"
         @ WLINE,53 SAY  STR(MINIMO,12,2)
         STORE WTOTLIQ+MINIMO TO WTOTLIQ
      ENDIF
      IF BONOVAC > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "BONO VACACIONAL"
         @ WLINE,53 SAY  STR(BONOVAC,12,2)
         STORE WTOTLIQ+BONOVAC TO WTOTLIQ
      ENDIF
      IF EXAMEN  > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "EXAMEN MEDICO"
         @ WLINE,53 SAY  STR(EXAMEN,12,2)
         STORE WTOTLIQ+EXAMEN TO WTOTLIQ
      ENDIF
      IF PREAVISO > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "PREAVISO"
         @ WLINE,53 SAY  STR(PREAVISO,12,2)
         STORE WTOTLIQ+PREAVISO TO WTOTLIQ
      ENDIF
      IF ANTIGUE  > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "ANTIGUEDAD"
         @ WLINE,53 SAY  STR(ANTIGUE,12,2)
         STORE WTOTLIQ+ANTIGUE TO WTOTLIQ
      ENDIF
      IF CESANTIA > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "CESANTIA"
         @ WLINE,53 SAY  STR(CESANTIA,12,2)
         STORE WTOTLIQ+CESANTIA TO WTOTLIQ
      ENDIF
      IF VACACION > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "VACACIONES FRACCIONADAS"
         @ WLINE,53 SAY  STR(VACACION,12,2)
         STORE WTOTLIQ+VACACION TO WTOTLIQ
      ENDIF
      IF INDCOM   > 0
         DO FORMA2
         @ WLINE,0 SAY "LIQ"
         @ WLINE,4 SAY "INDEMNIZACION COMPLEMENTARIA"
         @ WLINE,53 SAY  STR(INDCOM,12,2)
         STORE WTOTLIQ+INDCOM TO WTOTLIQ
      ENDIF
      STORE WTOTBON+WTOTNBON-WTOTDEC TO WTOTPAG

      IF WTOTBON > 0
         DO FORMA2
         @ WLINE,04 SAY "T O T A L   BONIFICABLE:"
         @ WLINE,53 SAY  STR(WTOTBON,12,2)
      ENDIF
      IF WTOTNBON > 0
         DO FORMA2
         @ WLINE,04 SAY "T O T A L   NO BONIFICABLE:"
         @ WLINE,53 SAY  STR(WTOTNBON,12,2)
      ENDIF
      IF WTOTBON+WTOTNBON> 0
         DO FORMA2
         @ WLINE,04 SAY "T O T A L   ASIG./DEDUC.:"
         @ WLINE,53 SAY  STR(WTOTBON+WTOTNBON,12,2)
         @ WLINE,67 SAY  STR(WTOTDEC,12,2)
      ENDIF
      IF WTOTPAG>0
         DO FORMA2
         @ WLINE,4 SAY "SALDO PAGADO:"+STR(WTOTPAG,12,2)
      ENDIF
      IF WTOTLIQ>0
         DO FORMA2
         @ WLINE,4 SAY "SALDO LIQUIDACION:"+STR(WTOTLIQ,12,2)
      ENDIF
      STORE WTOTGENB  + WTOTBON  TO WTOTGENB
      STORE WTOTGENNB + WTOTNBON TO WTOTGENNB
      STORE WTOTGENL  + WTOTLIQ  TO WTOTGENL
      STORE WTOTGEND  + WTOTDEC  TO WTOTGEND
      SELECT 2
      SKIP
   ENDDO
   STORE 100 TO WLINE
   do forma2
   @ 02,00 CLEAR
   @ wline,0 say "TOTAL BONIFICABLE GENERAL   :"+STR(WTOTGENB,12,2)
   do forma2
   @ wline,0 say "TOTAL NO BONIFICABLE GENERAL:"+STR(WTOTGENNB,12,2)
   DO FORMA2
   @ WLINE,0 SAY "TOTAL ASIGNACIONES GENERAL  :"+STR(WTOTGENB+WTOTGENNB,12,2)
   DO FORMA2
   @ WLINE,0 SAY "TOTAL LIQUIDACIONES GENERAL :"+STR(WTOTGENL,12,2)
   DO FORMA2
   @ WLINE,0 SAY "TOTAL DEDUCCIONES           :"+STR(WTOTGEND,12,2)
   DO FORMA2
   @ WLINE,0 SAY "TOTAL PAGADO NETO   GENERAL :"+STR(WTOTGENB+WTOTGENNB+WTOTGENL-WTOTGEND,12,2)
   IF WSALIDA = "M"
      STORE "OPRIMA <ENTER> PARA CONTINUAR" TO MES
      DO AVISO WITH MES
   ELSE
      @ PROW(),1 SAY chr(27)+chr(67)+chr(66)
      EJECT
      SET DEVI TO SCRE
   ENDIF
enddo







